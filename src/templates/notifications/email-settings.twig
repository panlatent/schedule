{% import "_includes/forms" as forms %}

{{
    forms.lightswitchField({
        name: 'onSuccess',
        on: settings.onSuccess,
        label: 'Notify on success'|t('schedule'),
    })
}}

{{
    forms.lightswitchField({
        name: 'onError',
        on: settings.onError,
        label: 'Notify on error'|t('schedule')
    })
}}

{{
    forms.editableTableField({
        allowAdd: true,
        allowReorder: true,
        allowDelete: true,
        rows: settings.emails ?? [],
        label: 'Emails'|t('schedule'),
        instructions: 'The email column supports environment variables'|t('schedule'),
        cols: {
            email: {
                type: 'autosuggest',
                suggestEnvVars: true,
                heading: 'Email'|t('schedule')
            },
            name: {
                type: 'singleline', 
                heading: 'Name'|t('schedule')
            }
        },
        id: 'settings-emails',
        name: 'emails',
        errors: settings.getErrors('emails') ?? []
    })
}}